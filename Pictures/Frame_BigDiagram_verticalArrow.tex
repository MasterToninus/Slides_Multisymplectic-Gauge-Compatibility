%+------------------------------------------------------------------------+
%| Diagram with Overlays: Vertical arrow
%| Author: Antonio miti
%+------------------------------------------------------------------------+


\documentclass[beamer,handout]{standalone}
\usepackage{tikz-cd}
\usepackage{mathtools}
\usepackage{amsfonts}
\usetikzlibrary{decorations.pathmorphing}
\usetikzlibrary{cd, fit}

	%Credit: https://tex.stackexchange.com/questions/99119/beamer-problematic-use-of-visible-and-only-in-combination-with-tikz-to-draw-a
  \tikzset{
    invisible/.style={opacity=0},
    visible on/.style={alt=#1{}{invisible}},
    alt/.code args={<#1>#2#3}{%
      \alt<#1>{\pgfkeysalso{#2}}{\pgfkeysalso{#3}} % \pgfkeysalso doesn't change the path
    },
  }

\definecolor{grey}{rgb}{0.30, 0.30, 0.30}

\begin{document}
	%
	\begin{tikzcd}[column sep= small,row sep=small,]	
		& |[visible on=<1->,alias=A1]|\big(C^\infty(M),\lbrace\cdot,\cdot\rbrace_\omega\big) 
		\ar[rr,visible on=<1->,"\Psi"]
		\ar[ddrr,visible on=<2->,phantom,blue,"\circlearrowright"]
		\ar[dd,visible on=<1>,dashed, red,"???"']
		\ar[dd,visible on=<2->,dashed, red,"\chi"]		
		&
		& |[visible on=<1->]|\big(\Gamma(TM\oplus \mathbb{R}),[\cdot,\cdot]_\omega\big)
		\ar[dd,sloped,"\sim",visible on=<1->]
		&
%		 
	\\
%
		& & & &
%
	\\
%
		&|[visible on=<1->]|\big(C^\infty(M),\lbrace\cdot,\cdot\rbrace_{\tilde{\omega}}\big)
		\ar[rr,visible on=<1->,"\Psi"]	
		& 
		&
		|[visible on=<1->,alias=A3]|\big(\Gamma(TM\oplus \mathbb{R}),[\cdot,\cdot]_{\tilde{\omega}}\big)
		&
 	\end{tikzcd}	
\end{document}

	